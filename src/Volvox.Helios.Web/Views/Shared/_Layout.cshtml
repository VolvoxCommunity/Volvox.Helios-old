@using System.Reflection
@inject Microsoft.ApplicationInsights.AspNetCore.JavaScriptSnippet JavaScriptSnippet
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-site-verification" content="18JHtM67T9ZVSSo1HwwLB5r8lghAxcJba3RRZb3r_Lg" />
    <meta property="og:title" content="Volvox.Helios" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.volvox.tech/" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image" content="https://www.volvox.tech/images/large/volvox-logo.png" />
    <meta property="og:image:width" content="300" />
    <meta property="og:image:height" content="300" />
    <meta property="og:description" content="Powerful, modular, web-managed, open-source Discord bot created by a community for communities." />
    <meta name="theme-color" content="#5DCC32">

    <title>@ViewData["Title"] - Volvox.Helios</title>

    <environment include="Development">
        <link rel="stylesheet" href="~/vendor.min.css" />
        <link rel="stylesheet" href="~/css/site.css" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
              asp-fallback-href="~/vendor.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute" />
        <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.min.css" integrity="sha256-EH/CzgoJbNED+gZgymswsIOrM9XhIbdSJ6Hwro09WE4=" crossorigin="anonymous" />
    </environment>
    <link rel="icon" type="image/x-icon" href="~/images/small/volvox-logo.png">

    @Html.Raw(JavaScriptSnippet.FullScript)
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top mb-4">
        <div class="container">
            <a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand">
                <img class="d-inline-block align-top" style="width: 30px; height: 30px" src="/images/small/volvox-logo.png" alt="Volvox.Helios" />
                Volvox.Helios
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    @await Html.PartialAsync("_NavigationPartial")
                </ul>
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="#" class="nav-link" id="themeToggler">
                            <i class="fas fa-moon active"></i>
                            <i class="fas fa-sun d-none"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link position-relative">
                            <i class="fas fa-newspaper"></i>
                            <div id="changelog-wrapper">
                                <div id="changelog" class="position-relative d-block h-100"></div>
                            </div>
                        </a>
                    </li>
                    @await Html.PartialAsync("_LoginNavigationPartial")
                </ul>
            </div>
        </div>
    </nav>

    <partial name="_CookieConsentPartial" />

    <main role="main" class="container body-content">
        @RenderBody()
        <footer class="mt-5 text-center">
            <hr class="col-10 col-md-7 border-volvox">
            <p class="m-0">&copy; 2018 - Volvox.Helios v@(Assembly.GetEntryAssembly().GetName().Version.Major).@(Assembly.GetEntryAssembly().GetName().Version.Minor).@(Assembly.GetEntryAssembly().GetName().Version.Build)</p>
        </footer>
    </main>

    <environment include="Development">
        <script src="~/vendor.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.3.1.min.js"
                asp-fallback-src="~/vendor.min.js"
                asp-fallback-test="window.jQuery"
                crossorigin="anonymous"
                integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
                asp-fallback-src="~/vendor.min.js"
                crossorigin="anonymous"
                integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49">
        </script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
                asp-fallback-src="~/vendor.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
                crossorigin="anonymous"
                integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy">
        </script>
        <script src="~/js/site.min.js" asp-append-version="true"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js" integrity="sha256-c4gVE6fn+JRKMRvqjoDp+tlG4laudNYrXI1GncbfAYY=" crossorigin="anonymous"></script>
    </environment>

    @RenderSection("Scripts", required: false)
    <script>
        $('#settingsNavDropdown').click(() => {
            $('#settingsDropDown').populateSettings();
        });

        $('#analyticsNavDropdown').click(() => {
            $('#analyticsDropDown').populateAnalytics();
        });

        // Dark theme toggle
        var darkThemeEnabled = false;
        $('#themeToggler').click((e) => {
            darkThemeEnabled = !darkThemeEnabled;
            var nextEl = $(e.currentTarget).find('i.d-none').removeClass('d-none').next();
            if (nextEl.length == 0)
                nextEl = $(e.currentTarget).find('i').first();
            nextEl.addClass('d-none');

            toggleTheme(darkThemeEnabled);
        });

        var HW_config = {
            selector: "#changelog",
            account: "7q0G0x"
        }
        function toggleTheme(darkThemeEnabled) {
            $('.navbar').toggleClass('navbar-light navbar-dark bg-light');

            if (darkThemeEnabled) {
                $('head').append('<link rel="stylesheet" href="/css/dark-theme.css" id="darkThemeLink">');
            } else {
                $('#darkThemeLink').remove();
            }
        }
    </script>
    <script async src="https://cdn.headwayapp.co/widget.js"></script>
</body>
</html>
